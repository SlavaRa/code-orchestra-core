package jetbrains.mps.debugger.java.run.sandbox;

/*Generated by MPS */

import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;

public class SeveralThreads {
  public SeveralThreads() {
  }

  public static void main(String[] args) {
    new Thread(new Runnable() {
      public void run() {
        int i = 0;
        _FunctionTypes._void_P0_E0 cl = new _FunctionTypes._void_P0_E0() {
          public void invoke() {
            System.err.println("Other thread running");
          }
        };
        while (true) {
          try {
            Thread.sleep((long) (1000 * Math.random()));
            i++;
            cl.invoke();
          } catch (InterruptedException e) {
          }
        }
      }
    }).start();
    while (true) {
      doSomething();
    }
  }

  public static void doSomething() {
    try {
      Thread.sleep((long) (1000 * Math.random()));
      System.err.println("doing something...");
      System.err.println("doing something once again...");
    } catch (InterruptedException e) {
    }
  }
}
