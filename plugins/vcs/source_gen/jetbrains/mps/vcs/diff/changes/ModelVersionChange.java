package jetbrains.mps.vcs.diff.changes;

/*Generated by MPS */

import org.jetbrains.annotations.NotNull;
import jetbrains.mps.smodel.SModel;
import jetbrains.mps.smodel.SModelHeader;

public class ModelVersionChange extends MetadataChange {
  public ModelVersionChange(@NotNull ChangeSet changeSet) {
    super(changeSet);
  }

  public void apply(@NotNull SModel model, @NotNull NodeCopier nodeCopier) {
    SModelHeader mh = model.getSModelHeader();
    SModelHeader newMH = getChangeSet().getNewModel().getSModelHeader();
    if (mh != null && newMH != null) {
      mh.setVersion(newMH.getVersion());
    }
  }

  @NotNull
  protected ModelChange createOppositeChange() {
    return new ModelVersionChange(getChangeSet().getOppositeChangeSet());
  }

  @NotNull
  public ChangeType getType() {
    return ChangeType.CHANGE;
  }

  @Override
  public String toString() {
    return "Change Model Version";
  }
}
