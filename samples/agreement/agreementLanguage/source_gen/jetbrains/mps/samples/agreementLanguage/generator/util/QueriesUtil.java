package jetbrains.mps.samples.agreementLanguage.generator.util;

/*Generated by MPS */

import jetbrains.mps.smodel.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;

public class QueriesUtil {
  public QueriesUtil() {
  }

  public static boolean isMoney(SNode node) {
    if (SNodeOperations.isInstanceOf(node, "jetbrains.mps.samples.formulaLanguage.structure.Operation")) {
      return isMoney(SLinkOperations.getTarget(SNodeOperations.cast(node, "jetbrains.mps.samples.formulaLanguage.structure.Operation"), "leftOperand", true));
    }
    if (SNodeOperations.isInstanceOf(node, "jetbrains.mps.samples.agreementLanguage.structure.EventVariableReference")) {
      SNode eventVariable = SLinkOperations.getTarget(SNodeOperations.cast(node, "jetbrains.mps.samples.agreementLanguage.structure.EventVariableReference"), "eventVariable", false);
      return SPropertyOperations.hasValue(eventVariable, "type", "Money", "Quantity");
    }
    if (SNodeOperations.isInstanceOf(node, "jetbrains.mps.samples.agreementLanguage.structure.Quantity")) {
      return SPropertyOperations.hasValue(SNodeOperations.cast(node, "jetbrains.mps.samples.agreementLanguage.structure.Quantity"), "unit", "USD", "USD_KWH");
    }
    return false;
  }

  public static boolean isQuantity(SNode node) {
    if (SNodeOperations.isInstanceOf(node, "jetbrains.mps.samples.formulaLanguage.structure.Operation")) {
      return isQuantity(SLinkOperations.getTarget(SNodeOperations.cast(node, "jetbrains.mps.samples.formulaLanguage.structure.Operation"), "leftOperand", true));
    }
    if (SNodeOperations.isInstanceOf(node, "jetbrains.mps.samples.agreementLanguage.structure.EventVariableReference")) {
      SNode eventVariable = SLinkOperations.getTarget(SNodeOperations.cast(node, "jetbrains.mps.samples.agreementLanguage.structure.EventVariableReference"), "eventVariable", false);
      return SPropertyOperations.hasValue(eventVariable, "type", "Quantity", "Quantity");
    }
    return SNodeOperations.isInstanceOf(node, "jetbrains.mps.samples.agreementLanguage.structure.Quantity");
  }
}
