package jetbrains.mps.nanoc.jetbrains.mps.nanoc.pluginutil;

/*Generated by MPS */

import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.JButton;
import javax.swing.AbstractAction;
import java.awt.event.ActionEvent;
import javax.swing.JFileChooser;
import java.io.File;
import java.awt.GridBagLayout;
import javax.swing.JLabel;
import jetbrains.mps.ide.common.LayoutUtil;

public class ExecutableParametersEditor extends JPanel {
  private String myFileName;
  private JTextField myTextField = new JTextField();
  private JButton myButton = new JButton(new AbstractAction("OK") {
    public void actionPerformed(ActionEvent event) {
      JFileChooser fileChooser = new JFileChooser();
      int result = fileChooser.showDialog(ExecutableParametersEditor.this, "OK");
      if (result == JFileChooser.APPROVE_OPTION) {
        File selectedFile = fileChooser.getSelectedFile();
        String fileName = selectedFile.getAbsolutePath();
        myFileName = fileName;
        myTextField.setText(fileName);
      }
    }
  });

  public ExecutableParametersEditor() {
    super(new GridBagLayout());
    add(new JLabel("Configuration"), LayoutUtil.createLabelConstraints(0));
    add(myTextField, LayoutUtil.createFieldConstraints(1));
    add(myButton, LayoutUtil.createLabelConstraints(2));
  }

  public String getFileName() {
    return this.myFileName;
  }

  public void setFileName(String fileName) {
    myFileName = fileName;
    myTextField.setText(myFileName);
  }
}
