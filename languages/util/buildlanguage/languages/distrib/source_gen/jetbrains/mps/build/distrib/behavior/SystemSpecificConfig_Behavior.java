package jetbrains.mps.build.distrib.behavior;

/*Generated by MPS */

import jetbrains.mps.smodel.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.apache.commons.lang.StringUtils;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptPropertyOperations;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.internal.collections.runtime.ISelector;
import jetbrains.mps.smodel.structure.BehaviorDescriptor;
import jetbrains.mps.smodel.structure.ConceptRegistry;
import jetbrains.mps.smodel.behaviour.BehaviorManager;

public class SystemSpecificConfig_Behavior {
  private static Class[] PARAMETERS_1231769123888 = {SNode.class};
  private static Class[] PARAMETERS_1234793567442 = {SNode.class};

  public static void init(SNode thisNode) {
  }

  public static SNode call_getDistribConfiguration_1230207861621(SNode thisNode) {
    return SNodeOperations.cast(SNodeOperations.getParent(thisNode), "jetbrains.mps.build.distrib.structure.DistribConfiguration");
  }

  public static String call_getVMOptionfFileName_1231748960223(SNode thisNode) {
    return DistribConfiguration_Behavior.call_getVMOptionsFileName_1231749012626(SystemSpecificConfig_Behavior.call_getDistribConfiguration_1230207861621(thisNode)) + "." + DistribConfiguration_Behavior.call_getVMOptionsExt_1231692561653(SystemSpecificConfig_Behavior.call_getDistribConfiguration_1230207861621(thisNode));
  }

  public static String virtual_getVMOptionsFilePath_1231769123888(SNode thisNode) {
    SNode distConf = SystemSpecificConfig_Behavior.call_getDistribConfiguration_1230207861621(thisNode);
    String vmoptionsDir = AbstractPath_Behavior.call_getFullPath_1230059208735(SLinkOperations.getTarget(distConf, "vmOptionsDir", true));
    if (StringUtils.isEmpty(vmoptionsDir) || vmoptionsDir.equals(".")) {
      return SystemSpecificConfig_Behavior.call_getVMOptionfFileName_1231748960223(thisNode);
    }
    return vmoptionsDir + SConceptPropertyOperations.getString(thisNode, "pathSeparator") + SystemSpecificConfig_Behavior.call_getVMOptionfFileName_1231748960223(thisNode);
  }

  public static String call_getAntPathFromAbstractPath_1234513234515(SNode thisNode, SNode path) {
    return AbstractPath_Behavior.call_getFullPath_1230059208735(path).replace("/", SConceptPropertyOperations.getString(thisNode, "pathSeparator")).replace("\\", SConceptPropertyOperations.getString(thisNode, "pathSeparator"));
  }

  public static List<SNode> virtual_getAllUsedVariable_1234793567442(SNode thisNode) {
    List<SNode> references = SNodeOperations.getDescendants(SystemSpecificConfig_Behavior.call_getDistribConfiguration_1230207861621(thisNode), "jetbrains.mps.build.distrib.structure.ExternalVariableReference", false, new String[]{});
    return ListSequence.fromList(references).select(new ISelector<SNode, SNode>() {
      public SNode select(SNode it) {
        return SLinkOperations.getTarget(it, "variable", false);
      }
    }).distinct().toListSequence();
  }

  public static String call_getVMOptionsFilePath_1231769123888(SNode thisNode) {
    BehaviorDescriptor descriptor = ConceptRegistry.getInstance().getBehaviorDescriptorForInstanceNode(thisNode);
    return (String) descriptor.invoke(Object.class, SNodeOperations.cast(thisNode, "jetbrains.mps.build.distrib.structure.SystemSpecificConfig"), "virtual_getVMOptionsFilePath_1231769123888", PARAMETERS_1231769123888);
  }

  public static List<SNode> call_getAllUsedVariable_1234793567442(SNode thisNode) {
    BehaviorDescriptor descriptor = ConceptRegistry.getInstance().getBehaviorDescriptorForInstanceNode(thisNode);
    return (List<SNode>) descriptor.invoke(Object.class, SNodeOperations.cast(thisNode, "jetbrains.mps.build.distrib.structure.SystemSpecificConfig"), "virtual_getAllUsedVariable_1234793567442", PARAMETERS_1234793567442);
  }

  public static String callSuper_getVMOptionsFilePath_1231769123888(SNode thisNode, String callerConceptFqName) {
    return (String) BehaviorManager.getInstance().invokeSuper(Object.class, SNodeOperations.cast(thisNode, "jetbrains.mps.build.distrib.structure.SystemSpecificConfig"), callerConceptFqName, "virtual_getVMOptionsFilePath_1231769123888", PARAMETERS_1231769123888);
  }

  public static List<SNode> callSuper_getAllUsedVariable_1234793567442(SNode thisNode, String callerConceptFqName) {
    return (List<SNode>) BehaviorManager.getInstance().invokeSuper(Object.class, SNodeOperations.cast(thisNode, "jetbrains.mps.build.distrib.structure.SystemSpecificConfig"), callerConceptFqName, "virtual_getAllUsedVariable_1234793567442", PARAMETERS_1234793567442);
  }
}
