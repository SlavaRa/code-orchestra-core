package jetbrains.mps.execution.sandbox.sandbox;

/*Generated by MPS */

import javax.swing.JFrame;
import jetbrains.mps.execution.api.settings.SettingsEditorPanel;
import java.awt.BorderLayout;
import javax.swing.JPanel;
import java.awt.FlowLayout;
import javax.swing.JButton;
import jetbrains.mps.execution.api.settings.ActionWrapper;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import java.awt.event.ActionEvent;
import javax.swing.SwingUtilities;

public class SettingsEditorPanelTest extends JFrame {
  private final SettingsEditorPanel mySettingsPanel;

  public SettingsEditorPanelTest() {
    final PersonEditor_Configuration twoFieldsConfiguration = new PersonEditor_Configuration();
    mySettingsPanel = new SettingsEditorPanel(twoFieldsConfiguration);
    add(mySettingsPanel.getComponent(), BorderLayout.CENTER);
    add(this.createButtons(twoFieldsConfiguration, mySettingsPanel), BorderLayout.SOUTH);
    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
  }

  private JPanel createButtons(final PersonEditor_Configuration twoFieldsConfiguration, SettingsEditorPanel editor) {
    JPanel buttonsPanel = new JPanel(new FlowLayout());
    buttonsPanel.add(new JButton(new ActionWrapper(editor.getOkAction(), new _FunctionTypes._void_P1_E0<ActionEvent>() {
      public void invoke(ActionEvent e) {
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
        dispose();
      }
    })));
    buttonsPanel.add(new JButton(new ActionWrapper(editor.getApplyAction(), new _FunctionTypes._void_P1_E0<ActionEvent>() {
      public void invoke(ActionEvent e) {
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
      }
    })));
    buttonsPanel.add(new JButton(new ActionWrapper(editor.getResetAction(), new _FunctionTypes._void_P1_E0<ActionEvent>() {
      public void invoke(ActionEvent e) {
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
      }
    })));
    buttonsPanel.add(new JButton(new ActionWrapper(editor.getCancelAction(), new _FunctionTypes._void_P1_E0<ActionEvent>() {
      public void invoke(ActionEvent e) {
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
        dispose();
      }
    })));
    return buttonsPanel;
  }

  @Override
  public void dispose() {
    super.dispose();
  }

  public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
      public void run() {
        SettingsEditorPanelTest main = new SettingsEditorPanelTest();
        main.setVisible(true);
        main.pack();
      }
    });
  }
}
