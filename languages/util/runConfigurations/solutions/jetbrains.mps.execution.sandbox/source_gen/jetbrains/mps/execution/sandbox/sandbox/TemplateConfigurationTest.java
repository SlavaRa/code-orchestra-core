package jetbrains.mps.execution.sandbox.sandbox;

/*Generated by MPS */

import javax.swing.JFrame;
import jetbrains.mps.execution.api.settings.SettingsEditorEx;
import javax.swing.JComponent;
import java.awt.BorderLayout;
import javax.swing.JPanel;
import java.awt.FlowLayout;
import javax.swing.JButton;
import javax.swing.AbstractAction;
import java.awt.event.ActionEvent;
import javax.swing.SwingUtilities;

public class TemplateConfigurationTest extends JFrame {
  public TemplateConfigurationTest() {
    final PersonEditor_Configuration personEditor = new PersonEditor_Configuration();
    final SettingsEditorEx<PersonEditor_Configuration> editor = personEditor.getEditorEx();
    JComponent panel = editor.getComponent();
    add(panel, BorderLayout.CENTER);
    add(this.createButtons(personEditor, editor), BorderLayout.SOUTH);
    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
  }

  private JPanel createButtons(final PersonEditor_Configuration twoFieldsConfiguration, final SettingsEditorEx<PersonEditor_Configuration> editor) {
    JPanel buttonsPanel = new JPanel(new FlowLayout());
    buttonsPanel.add(new JButton(new AbstractAction("Ok") {
      public void actionPerformed(ActionEvent p0) {
        editor.apply(twoFieldsConfiguration);
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
        dispose();
      }
    }));
    buttonsPanel.add(new JButton(new AbstractAction("Apply") {
      public void actionPerformed(ActionEvent p0) {
        editor.apply(twoFieldsConfiguration);
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
      }
    }));
    buttonsPanel.add(new JButton(new AbstractAction("Reset") {
      public void actionPerformed(ActionEvent p0) {
        editor.resetFrom(twoFieldsConfiguration);
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
      }
    }));
    buttonsPanel.add(new JButton(new AbstractAction("Cancel") {
      public void actionPerformed(ActionEvent p0) {
        editor.resetFrom(twoFieldsConfiguration);
        System.out.println("name = " + twoFieldsConfiguration.getName());
        System.out.println("email = " + twoFieldsConfiguration.getEmail());
        dispose();
      }
    }));
    return buttonsPanel;
  }

  public static void main(String[] args) {
    SwingUtilities.invokeLater(new Runnable() {
      public void run() {
        TemplateConfigurationTest main = new TemplateConfigurationTest();
        main.setVisible(true);
        main.pack();
      }
    });
  }
}
