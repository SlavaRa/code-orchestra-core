package jetbrains.mps.ui.swt.runtime.widgets;

/*Generated by MPS */

import org.eclipse.swt.widgets.Dialog;
import org.eclipse.swt.widgets.Shell;
import org.eclipse.swt.SWT;
import org.eclipse.swt.layout.FillLayout;
import org.eclipse.swt.widgets.Display;

public class StubDialog extends Dialog {
  private static String STUB_DIALOG = "jetbrains.mps.ui.swt.runtime.STUB_DIALOG";

  private Shell shell;

  public StubDialog(Shell parent, int style) {
    super(parent, style);
    this.shell = new Shell(this.getParent(), SWT.DIALOG_TRIM | SWT.RESIZE | SWT.APPLICATION_MODAL);
    this.shell.setLayout(new FillLayout());
    this.shell.setText(this.getText());
    this.shell.setData(STUB_DIALOG, this);
  }

  public Shell getShell() {
    return this.shell;
  }

  public void open() {
    this.shell.pack();
    this.shell.open();
    Display display = this.getParent().getDisplay();
    while (!(this.shell.isDisposed())) {
      if (!(display.readAndDispatch())) {
        display.sleep();
      }
    }
  }

  public static StubDialog getStubDialog(Shell shell) {
    return (StubDialog) shell.getData(StubDialog.STUB_DIALOG);
  }
}
