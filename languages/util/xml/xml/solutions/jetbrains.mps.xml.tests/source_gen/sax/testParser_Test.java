package sax;

/*Generated by MPS */

import junit.framework.TestCase;
import junit.framework.Assert;
import org.xml.sax.SAXException;
import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;
import org.xml.sax.InputSource;
import java.io.CharArrayReader;
import java.io.IOException;
import javax.xml.parsers.ParserConfigurationException;

public class testParser_Test extends TestCase {
  public void test_testValid() throws Exception {
    try {
      AstRoot res = parse("<root/>");
      Assert.fail("no exception");
    } catch (SAXException ex) {
      Assert.assertEquals("attribute name is absent", ex.getMessage());
    }
  }

  private AstRoot parse(String text) throws SAXException {
    try {
      SAXParser saxParser = SAXParserFactory.newInstance().newSAXParser();
      TestParserHandler handler = new TestParserHandler();
      saxParser.parse(new InputSource(new CharArrayReader(text.toCharArray())), handler);
      return (AstRoot) handler.getResult();
    } catch (IOException ex) {
      Assert.fail(ex.getMessage() + ": exception");
      return null;
    } catch (ParserConfigurationException ex) {
      Assert.fail(ex.getMessage() + ": exception");
      return null;
    }
  }
}
