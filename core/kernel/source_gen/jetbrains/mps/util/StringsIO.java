package jetbrains.mps.util;

/*Generated by MPS */

import java.util.List;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.InputStream;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import java.util.Scanner;
import java.io.IOException;
import java.io.FileOutputStream;
import java.io.OutputStream;
import java.io.PrintWriter;
import jetbrains.mps.internal.collections.runtime.Sequence;

public class StringsIO {
  private StringsIO() {
  }

  public static List<String> readLines(File file) {
    if (!(file.exists())) {
      return null;
    }

    try {
      return readLines(new FileInputStream(file));
    } catch (FileNotFoundException ex) {
      assert false;
      return null;
    }
  }

  public static List<String> readLines(InputStream input) {
    List<String> lines = ListSequence.fromList(new ArrayList<String>());
    Scanner sc = new Scanner(input);
    while (sc.hasNextLine()) {
      String line = sc.nextLine();
      ListSequence.fromList(lines).addElement(line);
    }
    sc.close();
    return lines;
  }

  public static void writeLines(File file, Iterable<String> lines) throws IOException {
    writeLines(new FileOutputStream(file), lines);
  }

  public static void writeLines(OutputStream output, Iterable<String> lines) {
    PrintWriter out = new PrintWriter(output);
    for (String line : Sequence.fromIterable(lines)) {
      out.println(line);
    }
    out.close();
  }
}
