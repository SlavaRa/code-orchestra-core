package jetbrains.mps.lang.smodel.generator.smodelAdapter;

/*Generated by MPS */

import jetbrains.mps.smodel.SNode;
import jetbrains.mps.util.InternUtil;
import org.apache.commons.lang.ObjectUtils;

public class SPropertyOperations {
  public SPropertyOperations() {
  }

  public static void set(SNode node, String propertyName, String propertyValue) {
    if (node != null) {
      node.setProperty(propertyName, propertyValue);
    }
  }

  @Deprecated
  public static String get(SNode node, String propertyName) {
    return SPropertyOperations.getString(node, propertyName);
  }

  public static String getString(SNode node, String propertyName) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      return SPropertyOperations.getString(value);
    }
    return null;
  }

  public static String getString(String value) {
    if (value != null) {
      return InternUtil.intern(value);
    } else {
      return null;
    }
  }

  public static int getInteger(SNode node, String propertyName) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      return SPropertyOperations.getInteger(value);
    }
    return 0;
  }

  public static int getInteger(String value) {
    try {
      return Integer.parseInt(value);
    } catch (Exception e) {
      return 0;
    }
  }

  public static boolean getBoolean(SNode node, String propertyName) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      return SPropertyOperations.getBoolean(value);
    }
    return false;
  }

  public static boolean getBoolean(String value) {
    return "true".equals(value);
  }

  public static boolean hasValue(SNode node, String propertyName, String propertyValue) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      if (value == null) {
        return propertyValue == null;
      } else {
        return value.equals(propertyValue);
      }
    }
    return false;
  }

  public static String getString_def(SNode node, String propertyName, String defaultValue) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      if (value != null) {
        return InternUtil.intern(value);
      }
    }
    if (defaultValue != null) {
      return InternUtil.intern(defaultValue);
    }
    return null;
  }

  public static int getInteger_def(SNode node, String propertyName, String defaultValue) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      try {
        return Integer.parseInt(value);
      } catch (Exception e) {
      }
    }
    if (defaultValue != null) {
      try {
        return Integer.parseInt(defaultValue);
      } catch (Exception e) {
      }
    }
    return 0;
  }

  public static boolean getBoolean_def(SNode node, String propertyName, String defaultValue) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      if (value != null) {
        if ("true".equals(value)) {
          return true;
        }
        if ("false".equals(value)) {
          return false;
        }
      }
    }
    if (defaultValue != null) {
      try {
        return Boolean.parseBoolean(defaultValue);
      } catch (Exception e) {
      }
    }
    return false;
  }

  public static boolean hasValue(SNode node, String propertyName, String propertyValue, String defaultValue) {
    if (node != null) {
      String value = node.getProperty(propertyName);
      if (value == null) {
        return ObjectUtils.equals(defaultValue, propertyValue);
      }
      return value.equals(propertyValue);
    }
    return false;
  }
}
