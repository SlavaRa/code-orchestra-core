package jetbrains.mps.baseLanguage.util.plugin.refactorings;

/*Generated by MPS */

import javax.swing.JPanel;
import java.awt.GridBagLayout;
import javax.swing.border.CompoundBorder;
import javax.swing.border.TitledBorder;
import javax.swing.border.EmptyBorder;
import javax.swing.ButtonGroup;
import javax.swing.JRadioButton;
import java.awt.GridBagConstraints;
import javax.swing.AbstractAction;
import java.awt.event.ActionEvent;

public class VisibilityPanel extends JPanel {
  private VisibilityLevel myResult = VisibilityLevel.PRIVATE;

  public VisibilityPanel() {
    this.setLayout(new GridBagLayout());
    this.setBorder(new CompoundBorder(new TitledBorder("Visibility"), new EmptyBorder(5, 5, 5, 5)));
    ButtonGroup group = new ButtonGroup();
    JRadioButton button = this.createVisibilityButton(0, VisibilityLevel.PRIVATE, group, this);
    this.createVisibilityButton(1, VisibilityLevel.PACKAGE_LOCAL, group, this);
    this.createVisibilityButton(2, VisibilityLevel.PROTECTED, group, this);
    this.createVisibilityButton(3, VisibilityLevel.PUBLIC, group, this);
    GridBagConstraints c = new GridBagConstraints();
    c.gridx = 0;
    c.gridy = 4;
    c.weightx = 1;
    c.weighty = 1;
    this.add(new JPanel(), c);
    button.setSelected(true);
  }

  public VisibilityLevel getResult() {
    return this.myResult;
  }

  private JRadioButton createVisibilityButton(int y, final VisibilityLevel levelToSet, ButtonGroup group, JPanel visbilityPanel) {
    GridBagConstraints c = new GridBagConstraints();
    c.fill = GridBagConstraints.NONE;
    c.gridx = 0;
    c.gridy = y;
    c.weightx = 1;
    c.weighty = 0;
    c.anchor = GridBagConstraints.FIRST_LINE_START;
    JRadioButton button = new JRadioButton(new AbstractAction(levelToSet.getButtonText()) {
      public void actionPerformed(ActionEvent e) {
        VisibilityPanel.this.myResult = levelToSet;
      }
    });
    group.add(button);
    visbilityPanel.add(button, c);
    return button;
  }
}
