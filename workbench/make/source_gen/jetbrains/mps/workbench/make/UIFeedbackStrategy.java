package jetbrains.mps.workbench.make;

/*Generated by MPS */

import jetbrains.mps.messages.IMessageHandler;
import jetbrains.mps.make.script.IFeedback;
import jetbrains.mps.messages.MessageKind;
import jetbrains.mps.messages.Message;

public class UIFeedbackStrategy {
  private IMessageHandler handler;

  public UIFeedbackStrategy(IMessageHandler handler) {
    this.handler = handler;
  }

  public void reportFeedback(IFeedback fdk) {
    MessageKind messageKind;
    switch (fdk.getSeverity()) {
      case ERROR:
        messageKind = MessageKind.ERROR;
        break;
      case WARNING:
        messageKind = MessageKind.WARNING;
        break;
      case INFO:
        messageKind = MessageKind.INFORMATION;
        break;
      default:
        messageKind = MessageKind.ERROR;
        break;
    }
    Message message = new Message(messageKind, fdk.getMessage());
    message.setException(fdk.getException());
    message.setHintObject(fdk.getSource());
    handler.handle(message);
  }
}
