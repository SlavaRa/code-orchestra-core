package jetbrains.mps.workbench.dialogs.project.components.parts.creators;

/*Generated by MPS */

import com.intellij.openapi.util.Computable;
import jetbrains.mps.project.structure.model.ModelRoot;
import jetbrains.mps.workbench.dialogs.project.IBindedDialog;
import jetbrains.mps.ide.ui.filechoosers.treefilechooser.TreeFileChooser;
import jetbrains.mps.vfs.IFile;

public class ModelRootChooser implements Computable<ModelRoot> {
  private final IBindedDialog myOwner;

  public ModelRootChooser(IBindedDialog owner) {
    myOwner = owner;
  }

  public ModelRoot compute() {
    TreeFileChooser chooser = new TreeFileChooser();
    chooser.setMode(TreeFileChooser.MODE_DIRECTORIES);
    IFile dir = chooser.showDialog(myOwner.getMainComponent());
    if (dir == null) {
      return null;
    }
    ModelRoot result = new ModelRoot();
    result.setPath(dir.getPath());
    return result;
  }
}
